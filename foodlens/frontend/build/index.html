<html lang="en"><head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><title>FoodLens - Home</title><script src="https://cdn.tailwindcss.com"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;family=Pacifico&amp;display=swap" rel="stylesheet"/><style>body{font-family:Roboto,sans-serif}.hidden{display:none}.drop-zone{border:2px dashed #ccc;border-radius:10px;padding:20px;text-align:center;cursor:pointer}.drop-zone.dragover{border-color:#000}.disabled{opacity:.5;cursor:not-allowed}</style><script defer="defer" src="/static/js/main.d726cab8.js"></script></head><body class="min-h-screen"><div class="relative"><img alt="Background image of various healthy foods like fruits and vegetables" class="absolute inset-0 w-full h-full object-cover opacity-50" height="1080" src="https://storage.googleapis.com/a1aa/image/tttfbh-V6JRJcFkYk3AAViIAff0r53IsC9FRD1curWA.jpg" width="1920"/><div class="relative container mx-auto p-4 min-h-screen flex flex-col justify-between"><main class="mt-8 flex-grow"><header class="flex justify-between items-center py-4"><div><h1 class="text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-black to-black" style="font-family:Pacifico,cursive">FoodLens</h1><p class="text-lg text-gray-700">Your Pocket Nutrition Expert!</p></div><div class="relative"><button class="text-black focus:outline-none" id="menu-button"><i class="fas fa-bars fa-2x"></i></button><nav class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg hidden" id="menu"><ul class="py-2"><li><a class="block px-4 py-2 text-gray-800 hover:bg-gray-200 menu-link" href="Homee.html">ğŸ  Home</a></li><li><a class="block px-4 py-2 text-gray-800 hover:bg-gray-200 menu-link" href="goals.html">ğŸ¯ Goals</a></li><li><a class="block px-4 py-2 text-gray-800 hover:bg-gray-200 menu-link" href="track.html">ğŸ“Š Track</a></li><li><a class="block px-4 py-2 text-gray-800 hover:bg-gray-200 menu-link" href="nearby.html">ğŸ“ Nearby</a></li><li><a class="block px-4 py-2 text-gray-800 hover:bg-gray-200 menu-link" href="profile.html">ğŸ‘¤ Profile</a></li></ul></nav></div></header><section class="bg-white p-6 rounded-lg shadow-md" id="home"><h2 class="text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-black to-black mb-4">Recognize Food</h2><div class="flex flex-col items-center"><div class="drop-zone mb-4 rounded-lg" id="drop-zone"><p class="text-gray-700">Drag &amp; Drop your image here or click to upload</p><input accept="image/*" class="hidden" id="file-input" type="file"/></div><div class="mb-4 w-full"><input class="w-full p-2 border border-gray-300 rounded-lg" id="food-name" placeholder="Type the food name here..."/></div><div class="flex space-x-4"><button class="bg-gradient-to-r from-green-400 to-blue-500 text-white px-4 py-2 rounded-lg hover:from-green-500 hover:to-blue-600" onclick='document.getElementById("file-input").click()'>Upload Image</button> <button class="bg-gradient-to-r from-purple-400 to-pink-500 text-white px-4 py-2 rounded-lg hover:from-purple-500 hover:to-pink-600" onclick="openCamera()">Use Camera</button> <button class="bg-gradient-to-r from-red-400 to-yellow-500 text-white px-4 py-2 rounded-lg hover:from-red-500 hover:to-yellow-600 disabled" disabled="" id="track-button" onclick="trackFood()">Track</button></div><div class="mt-4 w-full" id="uploaded-image-container"></div><div class="mt-4 w-full" id="food-info-container"></div></div></section><section class="bg-white p-6 rounded-lg shadow-md mt-8"><h2 class="text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-black to-black mb-4">External Resources</h2><div class="flex flex-col items-center space-y-4"><a class="bg-gradient-to-r from-green-400 to-blue-500 text-white px-4 py-2 rounded-lg hover:from-green-500 hover:to-blue-600" href="https://www.myfitnesspal.com/" target="_blank">MyFitnessPal </a><a class="bg-gradient-to-r from-purple-400 to-pink-500 text-white px-4 py-2 rounded-lg hover:from-purple-500 hover:to-pink-600" href="https://www.calorieking.com/" target="_blank">CalorieKing </a><a class="bg-gradient-to-r from-red-400 to-yellow-500 text-white px-4 py-2 rounded-lg hover:from-red-500 hover:to-yellow-600" href="https://www.nutritionix.com/" target="_blank">Nutritionix</a></div></section></main><footer class="bg-green-600 text-white p-4 text-center shadow-lg"><p>Â© 2023 FoodLens. All rights reserved.</p></footer></div></div><script>const API_BASE_URL="https://foodlens-six.vercel.app",menuButton=document.getElementById("menu-button"),menu=document.getElementById("menu"),menuLinks=document.querySelectorAll(".menu-link");menuButton.addEventListener("click",(function(e){menu.classList.toggle("hidden"),e.stopPropagation()})),menuLinks.forEach((e=>{e.addEventListener("click",(function(){menu.classList.add("hidden")}))})),document.addEventListener("click",(function(e){menu.contains(e.target)||menuButton.contains(e.target)||menu.classList.add("hidden")}));const dropZone=document.getElementById("drop-zone"),fileInput=document.getElementById("file-input"),foodNameInput=document.getElementById("food-name"),trackButton=document.getElementById("track-button"),uploadedImageContainer=document.getElementById("uploaded-image-container"),foodInfoContainer=document.getElementById("food-info-container");async function handleFiles(e){const t=e[0],n=new FileReader;n.onload=async function(e){const t=e.target.result.split(",")[1],n=document.getElementById("food-name").value,o=localStorage.getItem("token");if(!o)return alert("Please login to upload images"),void(window.location.href="loginsignup.html");try{if(!t&&!n)return void alert("Please provide either an image or food name");const e=JSON.parse(atob(o.split(".")[1])).id;if(!e)return alert("Invalid user session. Please login again."),void(window.location.href="loginsignup.html");const a=await fetch(`${API_BASE_URL}/api/food/uploadImage`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o}`},body:JSON.stringify({userId:e,imageBase64:t||null,foodName:n?n.trim():null})});if(401===a.status)return alert("Session expired. Please login again."),localStorage.removeItem("token"),void(window.location.href="loginsignup.html");if(!a.ok)throw new Error("Failed to upload image");console.log("Image data successfully stored in database"),alert("Image successfully stored!")}catch(e){console.error("Upload error:",e),e.message.includes("Failed to fetch")?alert("Failed to connect to server. Please check your internet connection."):alert(`Upload failed: ${e.message}`)}},n.readAsDataURL(t),displayImage(t),checkInputs()}function displayImage(e){const t=new FileReader;t.onload=function(e){const t=document.createElement("img");t.src=e.target.result,t.alt="Uploaded image of food",t.classList.add("w-full","rounded-lg","shadow-md","max-h-48","object-contain"),uploadedImageContainer.innerHTML="",uploadedImageContainer.appendChild(t),checkInputs()},t.readAsDataURL(e)}function checkInputs(){""!==foodNameInput.value.trim()||fileInput.files.length>0?(trackButton.disabled=!1,trackButton.classList.remove("disabled")):(trackButton.disabled=!0,trackButton.classList.add("disabled"))}function trackFood(){trackButton.disabled||(window.location.href="track.html")}function openCamera(){const e=document.createElement("input");e.type="file",e.accept="image/*",e.capture="environment",e.addEventListener("change",(e=>{const t=e.target.files;t.length&&handleFiles(t)})),e.click()}dropZone.addEventListener("click",(()=>fileInput.click())),dropZone.addEventListener("dragover",(e=>{e.preventDefault(),dropZone.classList.add("dragover")})),dropZone.addEventListener("dragleave",(()=>dropZone.classList.remove("dragover"))),dropZone.addEventListener("drop",(e=>{e.preventDefault(),dropZone.classList.remove("dragover");const t=e.dataTransfer.files;t.length&&(fileInput.files=t,handleFiles(t))})),fileInput.addEventListener("change",(e=>{const t=e.target.files;t.length&&handleFiles(t)})),foodNameInput.addEventListener("input",checkInputs)</script></body></html>