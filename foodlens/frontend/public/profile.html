<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodLens - Profile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&family=Pacifico&display=swap" rel="stylesheet"/>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="min-h-screen">
    <div class="relative">
        <img alt="Background image of various healthy foods like fruits and vegetables" class="absolute inset-0 w-full h-full object-cover opacity-50" height="1080" src="https://storage.googleapis.com/a1aa/image/TxcHG83fo-JUYBIxp77kqqVEStGN3Y9n0Z6ufVIpxWw.jpg" width="1920"/>
        
        <div class="relative container mx-auto p-4 min-h-screen flex flex-col justify-between">
            <!-- Main Content -->
            <main class="mt-8 flex-grow">
                <!-- Header -->
                <header class="flex justify-between items-center py-4">
                    <div>
                        <h1 class="text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-black to-black" style="font-family: 'Pacifico', cursive;">
                            FoodLens
                        </h1>
                        <p class="text-lg text-gray-700">
                            Your Pocket Nutrition Expert!
                        </p>
                    </div>
                    
                    <!-- Hamburger Menu -->
                    <div class="relative">
                        <button class="text-black focus:outline-none" id="menu-button">
                            <i class="fas fa-bars fa-2x"></i>
                        </button>

                        <!-- Navigation Menu -->
                        <nav class="absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg hidden" id="menu">
                            <ul class="py-2">
                                <li><a href="index.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-200 menu-link">üè† Home</a></li>

                                <li><a href="goals.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-200 menu-link">üéØ Goals</a></li>
                                <li><a href="track.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-200 menu-link">üìä Track</a></li>
                                <li><a href="Nearby.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-200 menu-link">üìç Nearby</a></li>
                                <li><a href="profile.html" class="block px-4 py-2 text-gray-800 hover:bg-gray-200 menu-link">üë§ Profile</a></li>
                            </ul>
                        </nav>
                    </div>
                </header>

                <!-- Profile Section -->
                <section class="bg-white p-6 rounded-lg shadow-md" id="profile">
                    <h2 class="text-xl font-semibold text-transparent bg-clip-text bg-gradient-to-r from-black to-black mb-4">
                        User Profile
                    </h2>
                    <div class="flex flex-col items-center">
                        <img alt="User profile picture" class="mb-4 rounded-full" height="100" src="https://storage.googleapis.com/a1aa/image/Grno78DpVTM_TObi8uezINF-vNgXsNDcD2UQZwk_Jac.jpg" width="100"/>
        <p class="text-gray-800 font-semibold" id="profile-name">
        </p>
        <p class="text-gray-600" id="profile-email">
        </p>

                        <button class="bg-gradient-to-r from-red-500 to-red-700 text-white px-4 py-2 rounded-lg hover:from-red-600 hover:to-red-800 mt-4" onclick="logout()">
                            Log Out
                        </button>
                    </div>
                </section>
            </main>

            <footer class="bg-green-600 text-white p-4 text-center shadow-lg">
                <p>¬© 2023 FoodLens. All rights reserved.</p>
            </footer>
        </div>
    </div>

    <script>
        const menuButton = document.getElementById('menu-button');
        const menu = document.getElementById('menu');
        const menuLinks = document.querySelectorAll('.menu-link');

        // Toggle menu on hamburger icon click
        menuButton.addEventListener('click', function(event) {
            menu.classList.toggle('hidden'); 
            event.stopPropagation();
        });

        // Close menu when clicking a menu item
        menuLinks.forEach(link => {
            link.addEventListener('click', function() {
                menu.classList.add('hidden');
            });
        });

        // Close menu when clicking outside
        document.addEventListener("click", function(event) {
            if (!menu.contains(event.target) && !menuButton.contains(event.target)) {
                menu.classList.add("hidden");
            }
        });

        // Load user data on page load
        document.addEventListener('DOMContentLoaded', function() {
            const token = localStorage.getItem('token');
            if (!token) {
                window.location.href = 'loginsignup.html';
                return;
            }

            const userName = localStorage.getItem('userName');
            const userEmail = localStorage.getItem('userEmail');
            
            document.getElementById('profile-name').textContent = userName || 'User';
            document.getElementById('profile-email').textContent = userEmail || '';
        });

        function logout() {
            localStorage.removeItem('token');
            localStorage.removeItem('userName');
            localStorage.removeItem('userEmail');
            window.location.href = 'loginsignup.html';
        }

    </script>
</body>
</html>
